<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Week 4: Learn - Claude Code Study</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700;800&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: { outfit: ['Outfit', 'sans-serif'], mono: ['JetBrains Mono', 'monospace'] },
                    colors: {
                        dark: { 900: '#0a0a0f', 800: '#12121a', 700: '#1a1a25', 600: '#252530' },
                        accent: '#34d399'
                    }
                }
            }
        }
    </script>
    <link rel="stylesheet" href="learn-common.css">
    <style>
        :root { --accent-rgb: 52, 211, 153; --accent-from: #34d399; --accent-to: #10b981; }
        .hero-gradient {
            background: radial-gradient(ellipse 80% 50% at 50% 0%, rgba(52, 211, 153, 0.2) 0%, transparent 50%),
                        linear-gradient(180deg, #0f172a 0%, #0a0a0f 100%);
        }
    </style>
</head>
<body class="bg-dark-900 text-white min-h-screen">
    <!-- Navigation -->
    <nav class="fixed top-0 w-full nav-blur border-b border-white/5 z-50">
        <div class="max-w-5xl mx-auto px-6 py-4 flex items-center justify-between">
            <a href="/" class="flex items-center gap-3 text-gray-400 hover:text-white transition-colors">
                <svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"/>
                </svg>
                <span>Back</span>
            </a>
            <div class="flex items-center gap-4">
                <a id="challengeNavBtn" href="week4" class="text-accent hover:text-emerald-300 transition-colors text-sm font-medium">
                    Go to Challenge
                </a>
            </div>
        </div>
    </nav>

    <!-- Hero -->
    <header class="hero-gradient pt-28 pb-12 px-6">
        <div class="max-w-5xl mx-auto">
            <div class="flex flex-wrap items-center gap-3 mb-6">
                <span class="bg-accent text-dark-900 px-4 py-1.5 rounded-full text-sm font-bold">WEEK 4</span>
                <span class="bg-purple-500/20 text-purple-400 px-3 py-1 rounded-full text-xs font-bold border border-purple-500/30">LEARN</span>
            </div>

            <h1 class="text-4xl md:text-5xl font-bold mb-4 tracking-tight">
                MCP Servers & Advanced Automation
            </h1>
            <p class="text-xl text-gray-400 mb-8 max-w-2xl">
                Master MCP server integration with popular servers like Playwright, GitHub, and PostgreSQL. Automate workflows with custom commands and headless mode.
            </p>

            <!-- Progress Tracker -->
            <div class="card rounded-2xl p-6 max-w-md">
                <div class="flex items-center justify-between mb-3">
                    <span class="text-sm font-medium text-gray-400">Learning Progress</span>
                    <span id="progressText" class="text-sm font-bold text-accent">0/5 Lessons</span>
                </div>
                <div class="progress-bar h-2">
                    <div id="progressFill" class="progress-fill" style="width: 0%"></div>
                </div>
                <div class="mt-3 flex items-center justify-between text-xs text-gray-500">
                    <span>Quiz Score: <span id="quizScoreDisplay" class="text-accent font-bold">0</span>/10</span>
                    <span id="completionStatus" class="hidden text-green-400">Ready for Challenge!</span>
                </div>
            </div>
        </div>
    </header>

    <main class="max-w-5xl mx-auto px-6 py-12">
        <!-- Lessons Section -->
        <section class="mb-16">
            <h2 class="text-sm font-bold text-accent uppercase tracking-widest mb-6">LESSONS</h2>

            <div class="space-y-4">
                <!-- Lesson 1: MCP Fundamentals -->
                <div id="lesson1" class="lesson-card rounded-2xl overflow-hidden">
                    <div class="lesson-header p-6 flex items-center justify-between" onclick="toggleLesson(1)">
                        <div class="flex items-center gap-4">
                            <div class="w-12 h-12 rounded-xl bg-accent/20 flex items-center justify-center text-2xl">1</div>
                            <div>
                                <h3 class="font-bold text-xl">MCP Fundamentals</h3>
                                <p class="text-gray-400 text-sm">What is MCP, architecture, why it matters, built-in capabilities</p>
                            </div>
                        </div>
                        <div class="flex items-center gap-3">
                            <span id="lesson1-status" class="text-xs px-3 py-1 rounded-full bg-gray-700 text-gray-400">Not Started</span>
                            <svg class="chevron w-5 h-5 text-gray-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
                            </svg>
                        </div>
                    </div>
                    <div class="lesson-content">
                        <div class="px-6 pb-6 space-y-6">
                            <div class="tip-box">
                                <p class="text-emerald-200 font-medium">What is MCP?</p>
                                <p class="text-sm mt-1 text-gray-300"><strong>MCP (Model Context Protocol)</strong> is an open protocol that standardizes how AI assistants connect to external data sources and tools. Think of it as a "USB for AI" -- a universal way to plug in capabilities.</p>
                            </div>

                            <h4 class="font-bold text-lg text-accent">MCP Architecture</h4>
                            <div class="code-block">
                                <div class="code-block-header">MCP Architecture Diagram</div>
                                <pre><code class="text-green-400 text-sm">┌─────────────────────────────────────────────────────────────┐
│                      Claude Code (Host)                      │
│                                                              │
│   ┌─────────────┐    ┌─────────────┐    ┌─────────────┐    │
│   │ MCP Client  │    │ MCP Client  │    │ MCP Client  │    │
│   └──────┬──────┘    └──────┬──────┘    └──────┬──────┘    │
└──────────┼──────────────────┼──────────────────┼────────────┘
           │                  │                  │
           ▼                  ▼                  ▼
    ┌─────────────┐    ┌─────────────┐    ┌─────────────┐
    │  Playwright  │    │  Database   │    │   Custom    │
    │   Server    │    │   Server    │    │   Server    │
    └─────────────┘    └─────────────┘    └─────────────┘</code></pre>
                            </div>

                            <h4 class="font-bold text-lg mt-6 text-accent">Why MCP Matters</h4>
                            <p class="text-gray-300">Before MCP, every AI integration required custom code. MCP provides a standard interface for:</p>
                            <ul class="list-disc list-inside space-y-2 ml-4 text-gray-300">
                                <li><span class="text-accent">Tools</span> - Functions the AI can call (search, database queries, API calls)</li>
                                <li><span class="text-accent">Resources</span> - Data the AI can read (files, databases, web content)</li>
                                <li><span class="text-accent">Prompts</span> - Pre-defined prompt templates for specific tasks</li>
                            </ul>

                            <h4 class="font-bold text-lg mt-6 text-accent">Built-in MCP Capabilities</h4>
                            <div class="grid md:grid-cols-2 gap-4 mt-4">
                                <div class="card rounded-xl p-4">
                                    <h5 class="font-semibold text-accent mb-2">Tools</h5>
                                    <p class="text-sm text-gray-400">Functions the AI can call -- search, database queries, API calls, shell commands.</p>
                                </div>
                                <div class="card rounded-xl p-4">
                                    <h5 class="font-semibold text-accent mb-2">Resources</h5>
                                    <p class="text-sm text-gray-400">Data the AI can read -- files, databases, web content, project context.</p>
                                </div>
                                <div class="card rounded-xl p-4">
                                    <h5 class="font-semibold text-accent mb-2">Prompts</h5>
                                    <p class="text-sm text-gray-400">Pre-defined prompt templates for specific tasks and workflows.</p>
                                </div>
                                <div class="card rounded-xl p-4">
                                    <h5 class="font-semibold text-accent mb-2">Sampling</h5>
                                    <p class="text-sm text-gray-400">Server-initiated AI interactions for automated decision-making.</p>
                                </div>
                            </div>

                            <h4 class="font-bold text-lg mt-6 text-accent">Checking MCP Status</h4>
                            <div class="code-block">
                                <div class="code-block-header">/mcp command</div>
                                <pre><code class="text-green-400 text-sm"><span class="code-comment"># In Claude Code, check connected MCP servers</span>
> /mcp

Connected MCP Servers:
- filesystem (built-in)
- Fetch (built-in)
- postgres (custom) - 5 tools available
- slack (custom) - 3 tools available</code></pre>
                            </div>

                            <button onclick="completeLesson(1)" class="btn-secondary px-6 py-3 rounded-xl text-sm font-medium">
                                Mark as Complete
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Lesson 2: Adding & Configuring MCP Servers -->
                <div id="lesson2" class="lesson-card rounded-2xl overflow-hidden">
                    <div class="lesson-header p-6 flex items-center justify-between" onclick="toggleLesson(2)">
                        <div class="flex items-center gap-4">
                            <div class="w-12 h-12 rounded-xl bg-purple-500/20 flex items-center justify-center text-2xl">2</div>
                            <div>
                                <h3 class="font-bold text-xl">Adding & Configuring MCP Servers</h3>
                                <p class="text-gray-400 text-sm">claude mcp add, multi-server config, and /mcp status</p>
                            </div>
                        </div>
                        <div class="flex items-center gap-3">
                            <span id="lesson2-status" class="text-xs px-3 py-1 rounded-full bg-gray-700 text-gray-400">Not Started</span>
                            <svg class="chevron w-5 h-5 text-gray-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
                            </svg>
                        </div>
                    </div>
                    <div class="lesson-content">
                        <div class="px-6 pb-6 space-y-6">
                            <div class="tip-box">
                                <p class="text-emerald-200 font-medium">Adding MCP Servers</p>
                                <p class="text-sm mt-1 text-gray-300">Use <code class="bg-dark-600 px-1 rounded text-xs">claude mcp add</code> to connect external services. Configure multiple servers in <code class="bg-dark-600 px-1 rounded text-xs">settings.local.json</code> and let Claude orchestrate data between them.</p>
                            </div>

                            <h4 class="font-bold text-lg text-accent">Adding via CLI</h4>
                            <div class="code-block">
                                <div class="code-block-header">Terminal Commands</div>
                                <pre><code class="text-green-400 text-sm"><span class="code-comment"># Add an MCP server with npx</span>
claude mcp add postgres -- npx -y @modelcontextprotocol/server-postgres

<span class="code-comment"># Add Playwright for browser automation</span>
claude mcp add playwright -- npx -y @anthropic-ai/mcp-server-playwright

<span class="code-comment"># Add with environment variables</span>
claude mcp add slack -- npx -y @anthropic-ai/mcp-server-slack

<span class="code-comment"># View connected MCP servers</span>
/mcp</code></pre>
                            </div>

                            <h4 class="font-bold text-lg mt-6 text-accent">Multi-Server Configuration</h4>
                            <div class="code-block">
                                <div class="code-block-header">.claude/settings.local.json</div>
                                <pre><code class="text-green-400 text-sm">{
  <span class="code-string">"mcpServers"</span>: {
    <span class="code-string">"notion"</span>: {
      <span class="code-string">"command"</span>: <span class="code-string">"npx"</span>,
      <span class="code-string">"args"</span>: [<span class="code-string">"-y"</span>, <span class="code-string">"@anthropic-ai/mcp-server-notion"</span>],
      <span class="code-string">"env"</span>: { <span class="code-string">"NOTION_API_KEY"</span>: <span class="code-string">"${NOTION_API_KEY}"</span> }
    },
    <span class="code-string">"playwright"</span>: {
      <span class="code-string">"command"</span>: <span class="code-string">"npx"</span>,
      <span class="code-string">"args"</span>: [<span class="code-string">"-y"</span>, <span class="code-string">"@anthropic-ai/mcp-server-playwright"</span>]
    },
    <span class="code-string">"github"</span>: {
      <span class="code-string">"command"</span>: <span class="code-string">"npx"</span>,
      <span class="code-string">"args"</span>: [<span class="code-string">"-y"</span>, <span class="code-string">"@modelcontextprotocol/server-github"</span>],
      <span class="code-string">"env"</span>: { <span class="code-string">"GITHUB_TOKEN"</span>: <span class="code-string">"${GITHUB_TOKEN}"</span> }
    }
  }
}</code></pre>
                            </div>

                            <h4 class="font-bold text-lg mt-6 text-accent">Multi-MCP Pipeline Example</h4>
                            <div class="code-block">
                                <div class="code-block-header">Automated Workflow</div>
                                <pre><code class="text-green-400 text-sm">User: "Check new GitHub issues, scrape competitor site, and update Notion board"

<span class="code-comment"># Step 1: GitHub MCP - Fetch new issues</span>
Claude uses github.list_issues(state="open", since="yesterday")
  -> Returns 5 new issues

<span class="code-comment"># Step 2: Playwright MCP - Scrape competitor data</span>
Claude uses playwright.navigate("https://competitor.com/features")
Claude uses playwright.get_text(".feature-list")
  -> Extracts feature comparison data

<span class="code-comment"># Step 3: Notion MCP - Update project board</span>
Claude uses notion.add_database_entry for each issue
Claude uses notion.update_page with competitor insights
  -> Board updated with issues + market context</code></pre>
                            </div>

                            <button onclick="completeLesson(2)" class="btn-secondary px-6 py-3 rounded-xl text-sm font-medium">
                                Mark as Complete
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Lesson 3: Popular MCP Servers & Skills -->
                <div id="lesson3" class="lesson-card rounded-2xl overflow-hidden">
                    <div class="lesson-header p-6 flex items-center justify-between" onclick="toggleLesson(3)">
                        <div class="flex items-center gap-4">
                            <div class="w-12 h-12 rounded-xl bg-amber-500/20 flex items-center justify-center text-2xl">3</div>
                            <div>
                                <h3 class="font-bold text-xl">Popular MCP Servers & Skills</h3>
                                <p class="text-gray-400 text-sm">Real-world showcase of most-used servers and community skills</p>
                            </div>
                        </div>
                        <div class="flex items-center gap-3">
                            <span id="lesson3-status" class="text-xs px-3 py-1 rounded-full bg-gray-700 text-gray-400">Not Started</span>
                            <svg class="chevron w-5 h-5 text-gray-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
                            </svg>
                        </div>
                    </div>
                    <div class="lesson-content">
                        <div class="px-6 pb-6 space-y-6">
                            <div class="tip-box">
                                <p class="text-emerald-200 font-medium">The MCP Ecosystem</p>
                                <p class="text-sm mt-1 text-gray-300">The MCP ecosystem has grown rapidly with servers for databases, browsers, collaboration tools, and more. Here are the most popular and useful servers and skills for real-world development.</p>
                            </div>

                            <h4 class="font-bold text-lg text-accent">Popular MCP Servers</h4>
                            <div class="space-y-4 mt-4">
                                <div class="card rounded-xl p-4">
                                    <div class="flex items-center gap-3 mb-2">
                                        <h5 class="font-semibold text-accent">GitHub MCP</h5>
                                    </div>
                                    <p class="text-sm text-gray-400 mb-2">Repository management, PR review, issue tracking, code search</p>
                                    <code class="text-xs bg-dark-600 px-2 py-1 rounded">claude mcp add github -- npx -y @modelcontextprotocol/server-github</code>
                                </div>
                                <div class="card rounded-xl p-4">
                                    <div class="flex items-center gap-3 mb-2">
                                        <h5 class="font-semibold text-accent">Playwright MCP</h5>
                                    </div>
                                    <p class="text-sm text-gray-400 mb-2">Browser automation, E2E testing, web scraping, screenshot capture</p>
                                    <code class="text-xs bg-dark-600 px-2 py-1 rounded">claude mcp add playwright -- npx -y @anthropic-ai/mcp-server-playwright</code>
                                </div>
                                <div class="card rounded-xl p-4">
                                    <div class="flex items-center gap-3 mb-2">
                                        <h5 class="font-semibold text-accent">PostgreSQL MCP</h5>
                                    </div>
                                    <p class="text-sm text-gray-400 mb-2">Database queries, schema management, migration assistance</p>
                                    <code class="text-xs bg-dark-600 px-2 py-1 rounded">claude mcp add postgres -- npx -y @modelcontextprotocol/server-postgres</code>
                                </div>
                                <div class="card rounded-xl p-4">
                                    <div class="flex items-center gap-3 mb-2">
                                        <h5 class="font-semibold text-accent">Notion MCP</h5>
                                    </div>
                                    <p class="text-sm text-gray-400 mb-2">Workspace management, page/database CRUD, team documentation</p>
                                    <code class="text-xs bg-dark-600 px-2 py-1 rounded">claude mcp add notion -- npx -y @anthropic-ai/mcp-server-notion</code>
                                </div>
                                <div class="card rounded-xl p-4">
                                    <div class="flex items-center gap-3 mb-2">
                                        <h5 class="font-semibold text-accent">Figma MCP</h5>
                                    </div>
                                    <p class="text-sm text-gray-400 mb-2">Design-to-code, Dev Mode integration, component inspection</p>
                                    <code class="text-xs bg-dark-600 px-2 py-1 rounded">claude mcp add figma -- npx -y figma-developer-mcp --figma-api-key=$FIGMA_API_KEY</code>
                                </div>
                                <div class="card rounded-xl p-4">
                                    <div class="flex items-center gap-3 mb-2">
                                        <h5 class="font-semibold text-accent">Sequential Thinking</h5>
                                    </div>
                                    <p class="text-sm text-gray-400 mb-2">Structured reasoning for complex problems, step-by-step analysis</p>
                                    <code class="text-xs bg-dark-600 px-2 py-1 rounded">claude mcp add thinking -- npx -y @modelcontextprotocol/server-sequential-thinking</code>
                                </div>
                                <div class="card rounded-xl p-4">
                                    <div class="flex items-center gap-3 mb-2">
                                        <h5 class="font-semibold text-accent">Context7</h5>
                                    </div>
                                    <p class="text-sm text-gray-400 mb-2">Up-to-date library docs fetched at query time, always current API references</p>
                                    <code class="text-xs bg-dark-600 px-2 py-1 rounded">claude mcp add context7 -- npx -y @upstash/context7-mcp</code>
                                </div>
                                <div class="card rounded-xl p-4">
                                    <div class="flex items-center gap-3 mb-2">
                                        <h5 class="font-semibold text-accent">Slack MCP</h5>
                                    </div>
                                    <p class="text-sm text-gray-400 mb-2">Channel summaries, message automation, team communication</p>
                                    <code class="text-xs bg-dark-600 px-2 py-1 rounded">claude mcp add slack -- npx -y @anthropic-ai/mcp-server-slack</code>
                                </div>
                            </div>

                            <h4 class="font-bold text-lg mt-6 text-accent">Popular Community Skills</h4>
                            <div class="space-y-4 mt-4">
                                <div class="card rounded-xl p-4">
                                    <div class="flex items-center gap-3 mb-2">
                                        <span class="text-xs bg-accent/20 text-accent px-2 py-0.5 rounded">built-in</span>
                                        <h5 class="font-semibold text-white">commit</h5>
                                    </div>
                                    <p class="text-sm text-gray-400">Auto-generate commit messages from staged changes. Usage: <code class="text-xs bg-dark-600 px-1 rounded">/commit</code></p>
                                </div>
                                <div class="card rounded-xl p-4">
                                    <div class="flex items-center gap-3 mb-2">
                                        <span class="text-xs bg-accent/20 text-accent px-2 py-0.5 rounded">built-in</span>
                                        <h5 class="font-semibold text-white">review-pr</h5>
                                    </div>
                                    <p class="text-sm text-gray-400">Structured PR review with security and style checks. Usage: <code class="text-xs bg-dark-600 px-1 rounded">/review-pr 123</code></p>
                                </div>
                                <div class="card rounded-xl p-4">
                                    <div class="flex items-center gap-3 mb-2">
                                        <span class="text-xs bg-purple-500/20 text-purple-400 px-2 py-0.5 rounded">community</span>
                                        <h5 class="font-semibold text-white">code-review</h5>
                                    </div>
                                    <p class="text-sm text-gray-400">Team-standard code review with severity levels (critical, warning, suggestion)</p>
                                </div>
                                <div class="card rounded-xl p-4">
                                    <div class="flex items-center gap-3 mb-2">
                                        <span class="text-xs bg-purple-500/20 text-purple-400 px-2 py-0.5 rounded">community</span>
                                        <h5 class="font-semibold text-white">test-generator</h5>
                                    </div>
                                    <p class="text-sm text-gray-400">Auto-generate unit tests for functions with edge case coverage</p>
                                </div>
                                <div class="card rounded-xl p-4">
                                    <div class="flex items-center gap-3 mb-2">
                                        <span class="text-xs bg-purple-500/20 text-purple-400 px-2 py-0.5 rounded">community</span>
                                        <h5 class="font-semibold text-white">doc-generator</h5>
                                    </div>
                                    <p class="text-sm text-gray-400">Generate JSDoc/docstring documentation for codebases</p>
                                </div>
                                <div class="card rounded-xl p-4">
                                    <div class="flex items-center gap-3 mb-2">
                                        <span class="text-xs bg-purple-500/20 text-purple-400 px-2 py-0.5 rounded">community</span>
                                        <h5 class="font-semibold text-white">security-audit</h5>
                                    </div>
                                    <p class="text-sm text-gray-400">OWASP Top 10 vulnerability scan with remediation suggestions</p>
                                </div>
                                <div class="card rounded-xl p-4">
                                    <div class="flex items-center gap-3 mb-2">
                                        <span class="text-xs bg-purple-500/20 text-purple-400 px-2 py-0.5 rounded">community</span>
                                        <h5 class="font-semibold text-white">changelog</h5>
                                    </div>
                                    <p class="text-sm text-gray-400">Generate changelog from git history with conventional commit parsing</p>
                                </div>
                            </div>

                            <h4 class="font-bold text-lg mt-6 text-accent">Example Skill SKILL.md</h4>
                            <div class="code-block">
                                <div class="code-block-header">.claude/skills/security-audit/SKILL.md</div>
                                <pre><code class="text-green-400 text-sm">---
name: security-audit
description: Scan codebase for OWASP Top 10 vulnerabilities
user-invocable: true
allowed-tools: [Read, Glob, Grep]
---

Scan the codebase for common security vulnerabilities:
1. SQL injection in database queries
2. XSS in user-facing output
3. Hardcoded secrets and credentials
4. Insecure deserialization
5. Missing authentication checks

Output a severity-ranked report with file locations
and suggested fixes for each finding.</code></pre>
                            </div>

                            <button onclick="completeLesson(3)" class="btn-secondary px-6 py-3 rounded-xl text-sm font-medium">
                                Mark as Complete
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Lesson 4: Custom Commands -->
                <div id="lesson4" class="lesson-card rounded-2xl overflow-hidden">
                    <div class="lesson-header p-6 flex items-center justify-between" onclick="toggleLesson(4)">
                        <div class="flex items-center gap-4">
                            <div class="w-12 h-12 rounded-xl bg-emerald-500/20 flex items-center justify-center text-2xl">4</div>
                            <div>
                                <h3 class="font-bold text-xl">Custom Commands</h3>
                                <p class="text-gray-400 text-sm">Reusable slash commands for team workflows</p>
                            </div>
                        </div>
                        <div class="flex items-center gap-3">
                            <span id="lesson4-status" class="text-xs px-3 py-1 rounded-full bg-gray-700 text-gray-400">Not Started</span>
                            <svg class="chevron w-5 h-5 text-gray-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
                            </svg>
                        </div>
                    </div>
                    <div class="lesson-content">
                        <div class="px-6 pb-6 space-y-6">
                            <div class="tip-box">
                                <p class="text-emerald-200 font-medium">Reusable Commands</p>
                                <p class="text-sm mt-1 text-gray-300">Custom commands let you automate repetitive workflows with a single slash command. Define them once, use them across sessions and share with your team.</p>
                            </div>

                            <h4 class="font-bold text-lg text-accent">customCommands in settings.local.json</h4>
                            <div class="code-block">
                                <div class="code-block-header">.claude/settings.local.json</div>
                                <pre><code class="text-green-400 text-sm">{
  <span class="code-string">"customCommands"</span>: {
    <span class="code-string">"test"</span>: {
      <span class="code-string">"description"</span>: <span class="code-string">"Run tests and fix failures"</span>,
      <span class="code-string">"prompt"</span>: <span class="code-string">"Run npm test. If any tests fail, analyze the failures and fix them."</span>
    },
    <span class="code-string">"docs"</span>: {
      <span class="code-string">"description"</span>: <span class="code-string">"Generate documentation"</span>,
      <span class="code-string">"prompt"</span>: <span class="code-string">"Generate JSDoc comments for all functions in the current file."</span>
    },
    <span class="code-string">"security"</span>: {
      <span class="code-string">"description"</span>: <span class="code-string">"Security audit"</span>,
      <span class="code-string">"prompt"</span>: <span class="code-string">"Scan the codebase for common security vulnerabilities (OWASP Top 10). Report findings."</span>
    }
  }
}</code></pre>
                            </div>

                            <h4 class="font-bold text-lg mt-6 text-accent">CLAUDE.md Project-Level Commands</h4>
                            <p class="text-gray-300 text-sm">Define project-specific commands in CLAUDE.md for team consistency. These are shared via your repository:</p>
                            <div class="code-block mt-4">
                                <div class="code-block-header">CLAUDE.md</div>
                                <pre><code class="text-green-400 text-sm"><span class="code-comment">## Custom Commands</span>

<span class="code-comment">### /deploy</span>
Deploy to staging environment:
1. Run tests
2. Build the application
3. Deploy to staging server
4. Run smoke tests

<span class="code-comment">### /review-pr [PR_NUMBER]</span>
Review a pull request:
1. Fetch the PR diff
2. Analyze for bugs, security issues, code style
3. Post review comments</code></pre>
                            </div>

                            <h4 class="font-bold text-lg mt-6 text-accent">Command Parameters ($ARGUMENTS)</h4>
                            <div class="code-block">
                                <div class="code-block-header">Parameterized Commands</div>
                                <pre><code class="text-green-400 text-sm">{
  <span class="code-string">"customCommands"</span>: {
    <span class="code-string">"refactor"</span>: {
      <span class="code-string">"description"</span>: <span class="code-string">"Refactor a file"</span>,
      <span class="code-string">"prompt"</span>: <span class="code-string">"Refactor $ARGUMENTS to improve readability and performance."</span>
    },
    <span class="code-string">"explain"</span>: {
      <span class="code-string">"description"</span>: <span class="code-string">"Explain code"</span>,
      <span class="code-string">"prompt"</span>: <span class="code-string">"Explain how $ARGUMENTS works in detail."</span>
    }
  }
}

<span class="code-comment"># Usage:</span>
<span class="code-comment"># /refactor src/utils/parser.ts</span>
<span class="code-comment"># /explain src/auth/jwt.ts</span></code></pre>
                            </div>

                            <h4 class="font-bold text-lg mt-6 text-accent">Best Practices</h4>
                            <div class="grid md:grid-cols-2 gap-4 mt-4">
                                <div class="card rounded-xl p-4">
                                    <h5 class="font-semibold text-accent mb-2">Naming Conventions</h5>
                                    <p class="text-sm text-gray-400">Use short, descriptive names: /test, /deploy, /docs. Consistent naming helps team adoption.</p>
                                </div>
                                <div class="card rounded-xl p-4">
                                    <h5 class="font-semibold text-accent mb-2">Documentation</h5>
                                    <p class="text-sm text-gray-400">Always include a description field. Clear docs make commands discoverable via /help.</p>
                                </div>
                                <div class="card rounded-xl p-4">
                                    <h5 class="font-semibold text-accent mb-2">Error Handling</h5>
                                    <p class="text-sm text-gray-400">Include "if X fails, then Y" logic in prompts. Anticipate edge cases in your commands.</p>
                                </div>
                                <div class="card rounded-xl p-4">
                                    <h5 class="font-semibold text-accent mb-2">Sharing</h5>
                                    <p class="text-sm text-gray-400">Commit CLAUDE.md commands to your repo. Use settings.local.json for personal commands.</p>
                                </div>
                            </div>

                            <button onclick="completeLesson(4)" class="btn-secondary px-6 py-3 rounded-xl text-sm font-medium">
                                Mark as Complete
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Lesson 5: Headless Mode -->
                <div id="lesson5" class="lesson-card rounded-2xl overflow-hidden">
                    <div class="lesson-header p-6 flex items-center justify-between" onclick="toggleLesson(5)">
                        <div class="flex items-center gap-4">
                            <div class="w-12 h-12 rounded-xl bg-pink-500/20 flex items-center justify-center text-2xl">5</div>
                            <div>
                                <h3 class="font-bold text-xl">Headless Mode</h3>
                                <p class="text-gray-400 text-sm">Non-interactive automation and CI/CD</p>
                            </div>
                        </div>
                        <div class="flex items-center gap-3">
                            <span id="lesson5-status" class="text-xs px-3 py-1 rounded-full bg-gray-700 text-gray-400">Not Started</span>
                            <svg class="chevron w-5 h-5 text-gray-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
                            </svg>
                        </div>
                    </div>
                    <div class="lesson-content">
                        <div class="px-6 pb-6 space-y-6">
                            <div class="tip-box">
                                <p class="text-emerald-200 font-medium">Non-Interactive Automation</p>
                                <p class="text-sm mt-1 text-gray-300">Headless mode runs Claude without human interaction -- perfect for scripts, CI/CD pipelines, and automated workflows where no terminal UI is needed.</p>
                            </div>

                            <h4 class="font-bold text-lg text-accent">Basic Headless Command</h4>
                            <div class="code-block">
                                <div class="code-block-header">Terminal</div>
                                <pre><code class="text-green-400 text-sm"><span class="code-comment"># Run Claude non-interactively with JSON output</span>
claude -p "List all TypeScript files" --output-format json

<span class="code-comment"># Simple text output</span>
claude -p "Generate a README for this project"

<span class="code-comment"># With a specific model</span>
claude -p "Quick code analysis" --model haiku</code></pre>
                            </div>

                            <h4 class="font-bold text-lg mt-6 text-accent">Key Flags</h4>
                            <div class="grid md:grid-cols-2 gap-4 mt-4">
                                <div class="card rounded-xl p-4">
                                    <h5 class="font-semibold text-accent mb-1"><code class="text-sm">--print (-p)</code></h5>
                                    <p class="text-sm text-gray-400">Non-interactive mode. Send a prompt and get the response to stdout.</p>
                                </div>
                                <div class="card rounded-xl p-4">
                                    <h5 class="font-semibold text-accent mb-1"><code class="text-sm">--output-format</code></h5>
                                    <p class="text-sm text-gray-400">Output format: text, json, or stream-json. JSON returns structured data.</p>
                                </div>
                                <div class="card rounded-xl p-4">
                                    <h5 class="font-semibold text-accent mb-1"><code class="text-sm">--model</code></h5>
                                    <p class="text-sm text-gray-400">Choose the Claude model: opus, sonnet, haiku.</p>
                                </div>
                                <div class="card rounded-xl p-4">
                                    <h5 class="font-semibold text-accent mb-1"><code class="text-sm">--yes</code></h5>
                                    <p class="text-sm text-gray-400">Auto-accept all permission requests. Required for fully automated pipelines.</p>
                                </div>
                                <div class="card rounded-xl p-4 md:col-span-2">
                                    <h5 class="font-semibold text-accent mb-1"><code class="text-sm">--allowedTools</code></h5>
                                    <p class="text-sm text-gray-400">Restrict which tools Claude can use. Example: <code class="text-xs bg-dark-600 px-1 rounded">--allowedTools "Read,Grep,Glob"</code> for read-only analysis.</p>
                                </div>
                            </div>

                            <div class="warning-box mt-6">
                                <div class="flex items-start gap-3">
                                    <span class="text-xl">Warning</span>
                                    <div>
                                        <p class="text-amber-200 font-medium">Security & Permissions</p>
                                        <p class="text-sm mt-1 text-gray-300">Using <code class="bg-dark-600 px-1 rounded text-xs">--yes</code> auto-approves all tool calls including file writes and command execution. Always use <code class="bg-dark-600 px-1 rounded text-xs">--allowedTools</code> to restrict capabilities in automated pipelines.</p>
                                    </div>
                                </div>
                            </div>

                            <h4 class="font-bold text-lg mt-6 text-accent">Scripting Examples</h4>
                            <div class="space-y-4 mt-4">
                                <div class="code-block">
                                    <div class="code-block-header">Code Analysis Script</div>
                                    <pre><code class="text-green-400 text-sm"><span class="code-comment">#!/bin/bash</span>
<span class="code-comment"># analyze.sh - Get code quality report</span>

report=$(claude -p "Analyze src/ for code quality issues. \
  Output as JSON." \
  --output-format json \
  --allowedTools "Read,Grep,Glob")

echo "$report" > quality-report.json</code></pre>
                                </div>

                                <div class="code-block">
                                    <div class="code-block-header">Batch Processing</div>
                                    <pre><code class="text-green-400 text-sm"><span class="code-comment">#!/bin/bash</span>
<span class="code-comment"># Process multiple files</span>

for file in src/*.ts; do
  claude -p "Add JSDoc comments to $file" \
    --yes --allowedTools "Read,Edit"
done</code></pre>
                                </div>

                                <div class="code-block">
                                    <div class="code-block-header">Pre-commit Hook</div>
                                    <pre><code class="text-green-400 text-sm"><span class="code-comment">#!/bin/bash</span>
<span class="code-comment"># .git/hooks/pre-commit</span>

files=$(git diff --cached --name-only)
result=$(claude -p "Review these files for issues: $files" \
  --allowedTools "Read")

if echo "$result" | grep -q "CRITICAL"; then
  echo "Critical issues found:"
  echo "$result"
  exit 1
fi</code></pre>
                                </div>
                            </div>

                            <h4 class="font-bold text-lg mt-6 text-accent">CI/CD Integration</h4>
                            <div class="code-block">
                                <div class="code-block-header">.github/workflows/claude-review.yml</div>
                                <pre><code class="text-green-400 text-sm">name: Claude Code Review

on:
  pull_request:
    types: [opened, synchronize]

jobs:
  review:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4

      - name: Install Claude Code
        run: npm install -g @anthropic-ai/claude-code

      - name: Review PR
        env:
          ANTHROPIC_API_KEY: ${{ secrets.ANTHROPIC_API_KEY }}
        run: |
          claude -p "Review this PR and comment on any issues" \
            --output-format json --yes</code></pre>
                            </div>

                            <button onclick="completeLesson(5)" class="btn-secondary px-6 py-3 rounded-xl text-sm font-medium">
                                Mark as Complete
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Terminology Section -->
        <section class="mb-16">
            <h2 class="text-sm font-bold text-accent uppercase tracking-widest mb-4">TERMINOLOGY</h2>
            <div class="space-y-3">
                <details class="card rounded-xl p-4 cursor-pointer">
                    <summary class="font-bold text-white flex items-center justify-between">
                        MCP Server
                        <svg class="w-5 h-5 text-gray-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
                        </svg>
                    </summary>
                    <p class="text-gray-400 text-sm mt-3">
                        External service connected via Model Context Protocol. MCP servers expose tools, resources, and capabilities that Claude can use seamlessly.
                        Add servers with <code class="bg-dark-800 px-1 rounded text-xs">claude mcp add</code>, view with <code class="bg-dark-800 px-1 rounded text-xs">/mcp</code>.
                    </p>
                </details>
                <details class="card rounded-xl p-4 cursor-pointer">
                    <summary class="font-bold text-white flex items-center justify-between">
                        MCP Tool Search
                        <svg class="w-5 h-5 text-gray-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
                        </svg>
                    </summary>
                    <p class="text-gray-400 text-sm mt-3">
                        Lazy loading mechanism for MCP server tools. Instead of loading all tools at startup, Claude discovers and loads tools on-demand when needed, reducing initialization time.
                    </p>
                </details>
                <details class="card rounded-xl p-4 cursor-pointer">
                    <summary class="font-bold text-white flex items-center justify-between">
                        Custom Commands
                        <svg class="w-5 h-5 text-gray-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
                        </svg>
                    </summary>
                    <p class="text-gray-400 text-sm mt-3">
                        Reusable slash commands defined in <code class="bg-dark-800 px-1 rounded text-xs">settings.local.json</code> or <code class="bg-dark-800 px-1 rounded text-xs">CLAUDE.md</code>. Automate repetitive workflows and share them with your team.
                    </p>
                </details>
                <details class="card rounded-xl p-4 cursor-pointer">
                    <summary class="font-bold text-white flex items-center justify-between">
                        Headless Mode
                        <svg class="w-5 h-5 text-gray-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
                        </svg>
                    </summary>
                    <p class="text-gray-400 text-sm mt-3">
                        Non-interactive Claude execution for automation and CI/CD. Use <code class="bg-dark-800 px-1 rounded text-xs">claude -p "prompt"</code> to run without a terminal UI. Supports JSON output and tool restrictions.
                    </p>
                </details>
            </div>
        </section>

        <!-- Quiz Section -->
        <section class="mb-16">
            <h2 class="text-sm font-bold text-accent uppercase tracking-widest mb-6">KNOWLEDGE CHECK</h2>
            <div class="card rounded-2xl p-8">
                <div class="flex items-center justify-between mb-6">
                    <h3 class="font-bold text-2xl">Quiz: MCP Servers & Advanced Automation</h3>
                    <span id="quizProgress" class="text-sm text-gray-400">Question 1/10</span>
                </div>

                <div id="quizContainer">
                    <!-- Quiz questions will be rendered here -->
                </div>

                <div id="quizResults" class="hidden text-center py-8">
                    <div class="text-6xl mb-4" id="resultEmoji">Congrats!</div>
                    <h4 class="text-2xl font-bold mb-2">Quiz Complete!</h4>
                    <p class="text-gray-400 mb-6">You scored <span id="finalScore" class="text-accent font-bold">0</span>/10</p>
                    <div class="flex gap-4 justify-center">
                        <button onclick="retakeQuiz()" class="btn-secondary px-6 py-3 rounded-xl text-sm font-medium">
                            Retake Quiz
                        </button>
                        <a id="challengeQuizBtn" href="week4" class="btn-primary px-6 py-3 rounded-xl text-sm font-medium inline-flex items-center gap-2">
                            Go to Challenge
                            <svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"/>
                            </svg>
                        </a>
                    </div>
                </div>
            </div>
        </section>

        <!-- Go to Challenge CTA -->
        <section class="mb-16">
            <div class="card rounded-3xl p-8 border-accent/30 bg-gradient-to-br from-accent/5 to-transparent">
                <div class="flex flex-col md:flex-row items-center justify-between gap-6">
                    <div>
                        <h3 class="text-2xl font-bold mb-2">Ready for the Challenge?</h3>
                        <p class="text-gray-400">Build an MVP using MCP servers, custom commands, and advanced automation techniques.</p>
                    </div>
                    <a id="challengeBtn" href="week4" class="btn-primary px-8 py-4 rounded-xl font-bold text-lg flex items-center gap-3 whitespace-nowrap">
                        Start Challenge
                        <svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"/>
                        </svg>
                    </a>
                </div>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="border-t border-white/5 py-8">
        <div class="max-w-5xl mx-auto px-6 text-center">
            <a href="/" class="text-gray-500 hover:text-accent transition-colors">
                Back to Home
            </a>
        </div>
    </footer>

    <script src="config.js"></script>
    <script>
        const LEARN_CONFIG = {
            week: 4,
            totalLessons: 5,
            lessonStart: 1,
            storageKey: 'week4_learn_state',
            challengeUrl: 'week4',
            quizLabels: { correct: 'Correct', incorrect: 'Wrong', correctAnswer: 'Correct Answer' },
            resultEmoji: function(score) {
                return score >= 7 ? 'Excellent!' : score >= 5 ? 'Good job!' : 'Keep learning!';
            },
        };

        const quizQuestions = [
            {
                question: "What command adds an MCP server to Claude Code?",
                options: ["claude install mcp", "claude mcp add", "mcp install", "claude add server"],
                correct: 1
            },
            {
                question: "Which MCP server enables browser automation and E2E testing?",
                options: ["Notion MCP", "GitHub MCP", "Playwright MCP", "PostgreSQL MCP"],
                correct: 2
            },
            {
                question: "What does MCP stand for?",
                options: ["Machine Code Processor", "Model Context Protocol", "Multi-Channel Protocol", "Model Compute Platform"],
                correct: 1
            },
            {
                question: "Which MCP server provides up-to-date library documentation at query time?",
                options: ["Sequential Thinking", "Context7", "Figma MCP", "Slack MCP"],
                correct: 1
            },
            {
                question: "Where do you configure multiple MCP servers together?",
                options: ["package.json", ".claude/settings.local.json", ".env file", "tsconfig.json"],
                correct: 1
            },
            {
                question: "Where are custom commands defined?",
                options: ["package.json", "settings.local.json or CLAUDE.md", ".env file", "tsconfig.json"],
                correct: 1
            },
            {
                question: "What flag enables headless (non-interactive) mode?",
                options: ["--silent", "--batch", "-p or --print", "--background"],
                correct: 2
            },
            {
                question: "Which output format returns structured data from headless mode?",
                options: ["text", "json", "xml", "csv"],
                correct: 1
            },
            {
                question: "What flag auto-accepts all permission requests in headless mode?",
                options: ["--auto", "--approve", "--yes", "--force"],
                correct: 2
            },
            {
                question: "Which command checks the status of connected MCP servers?",
                options: ["/servers", "/mcp", "/list-tools", "/connections"],
                correct: 1
            }
        ];
    </script>
    <script src="learn-common.js"></script>
</body>
</html>
